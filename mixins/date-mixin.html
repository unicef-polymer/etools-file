<link rel="import" href="../../moment-element/moment-import.html">
<script>
  // @namespace etoolsFileMixins
  window.etoolsFileMixins = window.etoolsFileMixins || {};
  /*
  * @polymer
  * @mixinFunction
  */
  etoolsFileMixins.DateMixin = (baseClass) => class extends baseClass {

    /**
     * Format date string to any format supported by momentjs
     */
    prettyDate(dateInput, format) {
      if (!format) {
        format = 'D MMM YYYY';
      }
      var date;
      if (dateInput instanceof Date) {
        date = dateInput;
      } else {
        date = new Date(dateInput);
      }

      if (date.toString() !== 'Invalid Date') {
        // using moment.utc() ensures that the date will not be changed no matter timezone the user has set
        return moment.utc(date).format(format);
      }

      return '';
    }
 };
</script>
